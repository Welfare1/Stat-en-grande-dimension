<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Amadou BAH ~ Frederic AKADJE ~ MARIA KONE">

<title>Rapport Final statistique en grande dimension</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="RapportFinal_Amed_files/libs/clipboard/clipboard.min.js"></script>
<script src="RapportFinal_Amed_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="RapportFinal_Amed_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="RapportFinal_Amed_files/libs/quarto-html/popper.min.js"></script>
<script src="RapportFinal_Amed_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="RapportFinal_Amed_files/libs/quarto-html/anchor.min.js"></script>
<link href="RapportFinal_Amed_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="RapportFinal_Amed_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="RapportFinal_Amed_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="RapportFinal_Amed_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="RapportFinal_Amed_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Rapport Final statistique en grande dimension</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Amadou BAH ~ Frederic AKADJE ~ MARIA KONE </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="chargement-et-exploration-du-jeu-de-données" class="level2">
<h2 class="anchored" data-anchor-id="chargement-et-exploration-du-jeu-de-données">1. Chargement et exploration du jeu de données</h2>
<section id="chargement-du-jeu-de-données" class="level3">
<h3 class="anchored" data-anchor-id="chargement-du-jeu-de-données">Chargement du jeu de données</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a> <span class="co"># Exemple : jeu de données simulé</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">set.seed</span>(<span class="dv">12311</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a> n <span class="ot">&lt;-</span> <span class="dv">72</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a> p <span class="ot">&lt;-</span> <span class="dv">1000</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a> X <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">rnorm</span>(n <span class="sc">*</span> p), n, p)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a> <span class="fu">colnames</span>(X) <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"V"</span>, <span class="dv">1</span><span class="sc">:</span>p)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a> y <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"ALL"</span>, <span class="st">"AML"</span>), n, <span class="at">replace =</span> <span class="cn">TRUE</span>))</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a> <span class="co">#</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a> <span class="co"># Vérifier les dimensions</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a> <span class="fu">dim</span>(X)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1]   72 1000</code></pre>
</div>
</div>
</section>
<section id="exploration-des-données" class="level3">
<h3 class="anchored" data-anchor-id="exploration-des-données">Exploration des données</h3>
<section id="résumé-des-dimensions-du-jeu-de-données" class="level4">
<h4 class="anchored" data-anchor-id="résumé-des-dimensions-du-jeu-de-données">Résumé des dimensions du jeu de données :</h4>
<p>Compte tenu du nombre important de variables ici, une disposition particulière du jeu données sera adoptée pour la réalisation de la description du jeu de données.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Transformation du jeu de données en dataFrame</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(X,<span class="at">Y=</span>y)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Nombre de valeurs manquantes par variable</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>na_<span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Y)<span class="sc">|&gt;</span> <span class="co"># Retrait de la colonne cible</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_all</span>(<span class="fu">list</span>(<span class="at">na =</span> <span class="sc">~</span><span class="fu">sum</span>(<span class="fu">is.na</span>(.)))) <span class="sc">|&gt;</span> <span class="co"># Agrégation sur chaque colonne</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>() <span class="co"># Transposition (format vecteur)</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Moyenne des variables</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>mean_ <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> </span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Y)<span class="sc">|&gt;</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_all</span>(<span class="fu">list</span>(<span class="at">mean =</span> <span class="sc">~</span><span class="fu">mean</span>(.x,<span class="at">na.rm =</span> <span class="cn">TRUE</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>()</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Maximum par colonne</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>max_ <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Y)<span class="sc">|&gt;</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_all</span>(<span class="fu">list</span>(<span class="at">max =</span> <span class="sc">~</span><span class="fu">max</span>(.x))) <span class="sc">|&gt;</span> </span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>()</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Médiabe par colonne</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>median_ <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> </span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Y)<span class="sc">|&gt;</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_all</span>(<span class="fu">list</span>(<span class="at">max =</span> <span class="sc">~</span><span class="fu">max</span>(.x))) <span class="sc">|&gt;</span> </span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>()</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Minimum par colonne</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>min_ <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> </span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Y)<span class="sc">|&gt;</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_all</span>(<span class="fu">list</span>(<span class="at">min =</span> <span class="sc">~</span><span class="fu">min</span>(.x))) <span class="sc">|&gt;</span> </span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>()</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Ecart-type par colonne</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>sd_ <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> </span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>Y)<span class="sc">|&gt;</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_all</span>(<span class="fu">list</span>(<span class="at">sd =</span> <span class="sc">~</span><span class="fu">sd</span>(.x))) <span class="sc">|&gt;</span> </span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>()</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Tableau de restitution pour la description</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>restitution <span class="ot">&lt;-</span> <span class="fu">bind_cols</span>(<span class="at">Variables =</span> <span class="fu">paste0</span>(<span class="st">"V"</span>, <span class="dv">1</span><span class="sc">:</span>p), <span class="co"># Concaténation de toutes les agrégations</span></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>          <span class="at">NA_ =</span>na_ ,</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>          <span class="at">Max_ =</span> max_,</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>          <span class="at">Min_ =</span> min_,</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>          <span class="at">Mean_ =</span> mean_,</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>          <span class="at">Median_ =</span> median_,</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>          <span class="at">SD_ =</span> sd_ )</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>restitution <span class="sc">|&gt;</span> </span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">|&gt;</span>   <span class="co"># Affichage des 5 premières lignes</span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="co"># Pour un format plus esthétiques</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="xyavqewycs" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#xyavqewycs table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#xyavqewycs thead, #xyavqewycs tbody, #xyavqewycs tfoot, #xyavqewycs tr, #xyavqewycs td, #xyavqewycs th {
  border-style: none;
}

#xyavqewycs p {
  margin: 0;
  padding: 0;
}

#xyavqewycs .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xyavqewycs .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#xyavqewycs .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#xyavqewycs .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#xyavqewycs .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xyavqewycs .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xyavqewycs .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xyavqewycs .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xyavqewycs .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xyavqewycs .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xyavqewycs .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xyavqewycs .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xyavqewycs .gt_spanner_row {
  border-bottom-style: hidden;
}

#xyavqewycs .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#xyavqewycs .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xyavqewycs .gt_from_md > :first-child {
  margin-top: 0;
}

#xyavqewycs .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xyavqewycs .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xyavqewycs .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#xyavqewycs .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#xyavqewycs .gt_row_group_first td {
  border-top-width: 2px;
}

#xyavqewycs .gt_row_group_first th {
  border-top-width: 2px;
}

#xyavqewycs .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xyavqewycs .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#xyavqewycs .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#xyavqewycs .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xyavqewycs .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xyavqewycs .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xyavqewycs .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#xyavqewycs .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xyavqewycs .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xyavqewycs .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xyavqewycs .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xyavqewycs .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xyavqewycs .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xyavqewycs .gt_left {
  text-align: left;
}

#xyavqewycs .gt_center {
  text-align: center;
}

#xyavqewycs .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xyavqewycs .gt_font_normal {
  font-weight: normal;
}

#xyavqewycs .gt_font_bold {
  font-weight: bold;
}

#xyavqewycs .gt_font_italic {
  font-style: italic;
}

#xyavqewycs .gt_super {
  font-size: 65%;
}

#xyavqewycs .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#xyavqewycs .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#xyavqewycs .gt_indent_1 {
  text-indent: 5px;
}

#xyavqewycs .gt_indent_2 {
  text-indent: 10px;
}

#xyavqewycs .gt_indent_3 {
  text-indent: 15px;
}

#xyavqewycs .gt_indent_4 {
  text-indent: 20px;
}

#xyavqewycs .gt_indent_5 {
  text-indent: 25px;
}

#xyavqewycs .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#xyavqewycs div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="Variables" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Variables</th>
<th id="NA_" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">NA_</th>
<th id="Max_" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Max_</th>
<th id="Min_" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Min_</th>
<th id="Mean_" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Mean_</th>
<th id="Median_" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Median_</th>
<th id="SD_" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">SD_</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Variables">V1</td>
<td class="gt_row gt_center" headers="NA_">0</td>
<td class="gt_row gt_center" headers="Max_">2.023186</td>
<td class="gt_row gt_center" headers="Min_">-2.411731</td>
<td class="gt_row gt_center" headers="Mean_">-0.005736058</td>
<td class="gt_row gt_center" headers="Median_">2.023186</td>
<td class="gt_row gt_center" headers="SD_">1.0196627</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Variables">V2</td>
<td class="gt_row gt_center" headers="NA_">0</td>
<td class="gt_row gt_center" headers="Max_">1.596161</td>
<td class="gt_row gt_center" headers="Min_">-2.501312</td>
<td class="gt_row gt_center" headers="Mean_">-0.092842688</td>
<td class="gt_row gt_center" headers="Median_">1.596161</td>
<td class="gt_row gt_center" headers="SD_">0.9183733</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Variables">V3</td>
<td class="gt_row gt_center" headers="NA_">0</td>
<td class="gt_row gt_center" headers="Max_">2.680843</td>
<td class="gt_row gt_center" headers="Min_">-2.583187</td>
<td class="gt_row gt_center" headers="Mean_">-0.219670794</td>
<td class="gt_row gt_center" headers="Median_">2.680843</td>
<td class="gt_row gt_center" headers="SD_">1.1373863</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Variables">V4</td>
<td class="gt_row gt_center" headers="NA_">0</td>
<td class="gt_row gt_center" headers="Max_">3.105307</td>
<td class="gt_row gt_center" headers="Min_">-2.711703</td>
<td class="gt_row gt_center" headers="Mean_">0.046005704</td>
<td class="gt_row gt_center" headers="Median_">3.105307</td>
<td class="gt_row gt_center" headers="SD_">1.1202481</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Variables">V5</td>
<td class="gt_row gt_center" headers="NA_">0</td>
<td class="gt_row gt_center" headers="Max_">2.693149</td>
<td class="gt_row gt_center" headers="Min_">-1.999835</td>
<td class="gt_row gt_center" headers="Mean_">-0.137228616</td>
<td class="gt_row gt_center" headers="Median_">2.693149</td>
<td class="gt_row gt_center" headers="SD_">0.9328716</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Variables">V6</td>
<td class="gt_row gt_center" headers="NA_">0</td>
<td class="gt_row gt_center" headers="Max_">1.803840</td>
<td class="gt_row gt_center" headers="Min_">-1.675661</td>
<td class="gt_row gt_center" headers="Mean_">0.057810442</td>
<td class="gt_row gt_center" headers="Median_">1.803840</td>
<td class="gt_row gt_center" headers="SD_">0.8987529</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="répartition-des-classes" class="level4">
<h4 class="anchored" data-anchor-id="répartition-des-classes">Répartition des classes :</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Y) <span class="sc">|&gt;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">N=</span><span class="fu">n</span>(),<span class="st">`</span><span class="at">%</span><span class="st">`</span><span class="ot">=</span><span class="fu">round</span>(<span class="fu">n</span>()<span class="sc">*</span><span class="dv">100</span><span class="sc">/</span>n,<span class="dv">1</span>)) <span class="sc">|&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(N)) <span class="sc">|&gt;</span> </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="fzejfkimnn" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#fzejfkimnn table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#fzejfkimnn thead, #fzejfkimnn tbody, #fzejfkimnn tfoot, #fzejfkimnn tr, #fzejfkimnn td, #fzejfkimnn th {
  border-style: none;
}

#fzejfkimnn p {
  margin: 0;
  padding: 0;
}

#fzejfkimnn .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#fzejfkimnn .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#fzejfkimnn .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#fzejfkimnn .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#fzejfkimnn .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fzejfkimnn .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fzejfkimnn .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fzejfkimnn .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#fzejfkimnn .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#fzejfkimnn .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#fzejfkimnn .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#fzejfkimnn .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#fzejfkimnn .gt_spanner_row {
  border-bottom-style: hidden;
}

#fzejfkimnn .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#fzejfkimnn .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#fzejfkimnn .gt_from_md > :first-child {
  margin-top: 0;
}

#fzejfkimnn .gt_from_md > :last-child {
  margin-bottom: 0;
}

#fzejfkimnn .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#fzejfkimnn .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#fzejfkimnn .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#fzejfkimnn .gt_row_group_first td {
  border-top-width: 2px;
}

#fzejfkimnn .gt_row_group_first th {
  border-top-width: 2px;
}

#fzejfkimnn .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fzejfkimnn .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#fzejfkimnn .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#fzejfkimnn .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fzejfkimnn .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fzejfkimnn .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#fzejfkimnn .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#fzejfkimnn .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#fzejfkimnn .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fzejfkimnn .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fzejfkimnn .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fzejfkimnn .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fzejfkimnn .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fzejfkimnn .gt_left {
  text-align: left;
}

#fzejfkimnn .gt_center {
  text-align: center;
}

#fzejfkimnn .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#fzejfkimnn .gt_font_normal {
  font-weight: normal;
}

#fzejfkimnn .gt_font_bold {
  font-weight: bold;
}

#fzejfkimnn .gt_font_italic {
  font-style: italic;
}

#fzejfkimnn .gt_super {
  font-size: 65%;
}

#fzejfkimnn .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#fzejfkimnn .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#fzejfkimnn .gt_indent_1 {
  text-indent: 5px;
}

#fzejfkimnn .gt_indent_2 {
  text-indent: 10px;
}

#fzejfkimnn .gt_indent_3 {
  text-indent: 15px;
}

#fzejfkimnn .gt_indent_4 {
  text-indent: 20px;
}

#fzejfkimnn .gt_indent_5 {
  text-indent: 25px;
}

#fzejfkimnn .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#fzejfkimnn div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="Y" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">Y</th>
<th id="N" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">N</th>
<th id="a%" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">%</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="Y">AML</td>
<td class="gt_row gt_right" headers="N">42</td>
<td class="gt_row gt_right" headers="%">58.3</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="Y">ALL</td>
<td class="gt_row gt_right" headers="N">30</td>
<td class="gt_row gt_right" headers="%">41.7</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Deux classes sont représentées dans le jeu de données à savoir : ALL et AML.</p>
</section>
<section id="normalisation-et-échelle-des-variables" class="level4">
<h4 class="anchored" data-anchor-id="normalisation-et-échelle-des-variables">Normalisation et échelle des variables ? :</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>restitution <span class="sc">|&gt;</span> <span class="fu">summarise</span>(</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Valeurs manquantes</span><span class="st">`</span><span class="ot">=</span><span class="fu">sum</span>(NA_),</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Maximum des cols</span><span class="st">`</span><span class="ot">=</span><span class="fu">max</span>(Max_),</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Minimum des cols</span><span class="st">`</span><span class="ot">=</span> <span class="fu">min</span>(Min_),</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Moyenne des cols</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">mean</span>(SD_),</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Etendue des cols</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">max</span>(Max_)<span class="sc">-</span><span class="fu">min</span>(Min_)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="snynunuhri" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#snynunuhri table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#snynunuhri thead, #snynunuhri tbody, #snynunuhri tfoot, #snynunuhri tr, #snynunuhri td, #snynunuhri th {
  border-style: none;
}

#snynunuhri p {
  margin: 0;
  padding: 0;
}

#snynunuhri .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#snynunuhri .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#snynunuhri .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#snynunuhri .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#snynunuhri .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#snynunuhri .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#snynunuhri .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#snynunuhri .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#snynunuhri .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#snynunuhri .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#snynunuhri .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#snynunuhri .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#snynunuhri .gt_spanner_row {
  border-bottom-style: hidden;
}

#snynunuhri .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#snynunuhri .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#snynunuhri .gt_from_md > :first-child {
  margin-top: 0;
}

#snynunuhri .gt_from_md > :last-child {
  margin-bottom: 0;
}

#snynunuhri .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#snynunuhri .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#snynunuhri .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#snynunuhri .gt_row_group_first td {
  border-top-width: 2px;
}

#snynunuhri .gt_row_group_first th {
  border-top-width: 2px;
}

#snynunuhri .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#snynunuhri .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#snynunuhri .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#snynunuhri .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#snynunuhri .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#snynunuhri .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#snynunuhri .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#snynunuhri .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#snynunuhri .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#snynunuhri .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#snynunuhri .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#snynunuhri .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#snynunuhri .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#snynunuhri .gt_left {
  text-align: left;
}

#snynunuhri .gt_center {
  text-align: center;
}

#snynunuhri .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#snynunuhri .gt_font_normal {
  font-weight: normal;
}

#snynunuhri .gt_font_bold {
  font-weight: bold;
}

#snynunuhri .gt_font_italic {
  font-style: italic;
}

#snynunuhri .gt_super {
  font-size: 65%;
}

#snynunuhri .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#snynunuhri .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#snynunuhri .gt_indent_1 {
  text-indent: 5px;
}

#snynunuhri .gt_indent_2 {
  text-indent: 10px;
}

#snynunuhri .gt_indent_3 {
  text-indent: 15px;
}

#snynunuhri .gt_indent_4 {
  text-indent: 20px;
}

#snynunuhri .gt_indent_5 {
  text-indent: 25px;
}

#snynunuhri .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#snynunuhri div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="Valeurs-manquantes" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Valeurs manquantes</th>
<th id="Maximum-des-cols" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Maximum des cols</th>
<th id="Minimum-des-cols" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Minimum des cols</th>
<th id="Moyenne-des-cols" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Moyenne des cols</th>
<th id="Etendue-des-cols" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Etendue des cols</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="Valeurs manquantes">0</td>
<td class="gt_row gt_right" headers="Maximum des cols">4.16039</td>
<td class="gt_row gt_right" headers="Minimum des cols">-4.349511</td>
<td class="gt_row gt_right" headers="Moyenne des cols">0.9954469</td>
<td class="gt_row gt_right" headers="Etendue des cols">8.509902</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Le jeu de données comporte aucune valeur manquante au sein de chaque colonne. Toutefois, l’échelle des variables différe à l’observation de l’étendue calculée à partir de l’ensemble des variables.</p>
</section>
</section>
</section>
<section id="analyse-en-composantes-principales-acp" class="level2">
<h2 class="anchored" data-anchor-id="analyse-en-composantes-principales-acp">2. Analyse en Composantes Principales (ACP)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(FactoMineR)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ACP normée sur les 100 premières composantes principale</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>pcaRes <span class="ot">&lt;-</span> <span class="fu">PCA</span>(df,<span class="at">scale.unit =</span> <span class="cn">TRUE</span>,<span class="at">ncp =</span> <span class="dv">100</span>,<span class="at">quali.sup =</span> <span class="dv">1001</span>, <span class="at">graph =</span> <span class="cn">FALSE</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualisation du premier plan principal</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot.PCA</span>(pcaRes,<span class="at">choix =</span> <span class="fu">c</span>(<span class="st">'var'</span>),<span class="at">axes =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RapportFinal_Amed_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>A l’observation du graphique, les variables restent difficilement séparables. 4 grands regroupement se distinguent sur le premier plan principal. Cependant la circonscription des variables reste très éloignée du bord du cercle, indiquant une mauvaise réprésentation de ces variables sur le premier plan principal. En effet, le premier plan principal cumule seulement 4.41% de l’information contenues dans le jeu de données. Une quantité bien trop minime pour une tentative d’interprétation des différents axes. Une analyse des contributions cumulées des axes permets l’identification du nombre de composantes pour notre jeu de données.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Analyse des inerties portées par chaque composante</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>pcaRes<span class="sc">$</span>eig <span class="sc">|&gt;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>() <span class="co"># Affichage des 5 dernières composantes de l'ACP</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        eigenvalue percentage of variance cumulative percentage of variance
comp 66   8.936444              0.8936444                          95.79292
comp 67   8.707807              0.8707807                          96.66370
comp 68   8.595249              0.8595249                          97.52322
comp 69   8.516873              0.8516873                          98.37491
comp 70   8.366461              0.8366461                          99.21156
comp 71   7.884443              0.7884443                         100.00000</code></pre>
</div>
</div>
<p>71 Composantes suffisent à représenter l’entièreté des informations contenues dans le jeu de données.</p>
</section>
<section id="régression-logistique-lasso" class="level2">
<h2 class="anchored" data-anchor-id="régression-logistique-lasso">3. Régression logistique lasso</h2>
<p><strong>Régression logistique pénalisée (Lasso)</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glmnet)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>df.X <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span> <span class="fu">model.matrix</span>(Y<span class="sc">~</span>.,<span class="at">data=</span>_) <span class="co"># format accepté par cv.glmnet </span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>reg.cvlasso <span class="ot">&lt;-</span> <span class="fu">cv.glmnet</span>(</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  df.X,<span class="co"># Conversion du dataFrame en `matrix`</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  df<span class="sc">$</span>Y, <span class="co"># variable explicative</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">family=</span><span class="st">"binomial"</span>,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha=</span><span class="dv">1</span> <span class="co"># Modèle lasso</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Analyse des valeurs de lambda</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>bestlam <span class="ot">&lt;-</span> reg.cvlasso<span class="sc">$</span>lambda.min <span class="co"># valeur de lambda optimum</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>bestlam</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1890601</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(reg.cvlasso) <span class="co"># Visualisation de l'erreur en fonction des valeurs de lambda</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RapportFinal_Amed_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Identifier les variables sélectionnées</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Obtention des coefficients non nuls</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(<span class="fu">coef</span>(reg.cvlasso)<span class="sc">!=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1</code></pre>
</div>
</div>
<p>Aucune variable n’est jugée statistiquement significative pour le modèle. Le modèle tend donc à annihiler, les effets des variables explicatives proposées.</p>
<p><strong>Effet de la régularisation dans ce contexte</strong><br> La régularisation ici est assez parcimonieuse. Le modèle parvient à atteindre sa meilleure performance en l’abscence de la totalité des variables présentes dans le modèle.</p>
<p>La valeur de <span class="math inline">\(\lambda\)</span> optimale choisie est assez faible (0.18) ce qui amplifie l’effet de la régularisation dans le modèle.</p>
</section>
<section id="comparaison-de-méthodes-de-classification" class="level2">
<h2 class="anchored" data-anchor-id="comparaison-de-méthodes-de-classification">Comparaison de méthodes de classification</h2>
<p><strong>svm</strong> (Explication méthode)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidymodels)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(parallel)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(doParallel)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>C <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.01</span>,<span class="dv">1</span>,<span class="dv">10</span>) <span class="co"># Valeurs possibles de C</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>sigma <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.1</span>,<span class="dv">1</span>,<span class="dv">3</span>) <span class="co"># Valeurs possibles de sigma</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>gr <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(<span class="at">C=</span>C,</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>                  <span class="at">sigma=</span>sigma)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>ctrl <span class="ot">&lt;-</span> <span class="fu">trainControl</span>(<span class="at">method=</span><span class="st">"cv"</span>,<span class="at">number=</span><span class="dv">3</span>) <span class="co"># Validation croisée 3 blocks</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Lancement parallèle de l'entraînement</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>cl <span class="ot">&lt;-</span> <span class="fu">makePSOCKcluster</span>(<span class="dv">3</span>) <span class="co"># Parallélisation sur 3 coeurs</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="fu">registerDoParallel</span>(cl)</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>res.svm <span class="ot">&lt;-</span> <span class="fu">train</span>(Y<span class="sc">~</span>.,</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>                 <span class="at">data=</span>df,</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>                 <span class="at">method=</span><span class="st">"svmRadial"</span>,</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>                 <span class="at">trControl=</span>ctrl,</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>                 <span class="at">tuneGrid=</span>gr,</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>                 <span class="at">prob.model=</span><span class="cn">FALSE</span>) <span class="co"># Obtention des valeurs prédites</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a><span class="fu">stopCluster</span>(cl)</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a><span class="co"># predict(res.svm,newX,type="prob")[2] # Obtention des prévisions</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>res.svm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Support Vector Machines with Radial Basis Function Kernel 

  72 samples
1000 predictors
   2 classes: 'ALL', 'AML' 

No pre-processing
Resampling: Cross-Validated (3 fold) 
Summary of sample sizes: 48, 48, 48 
Resampling results across tuning parameters:

  C      sigma  Accuracy   Kappa
   0.01  0.1    0.5833333  0    
   0.01  1.0    0.5833333  0    
   0.01  3.0    0.5833333  0    
   1.00  0.1    0.5833333  0    
   1.00  1.0    0.5833333  0    
   1.00  3.0    0.5833333  0    
  10.00  0.1    0.5833333  0    
  10.00  1.0    0.5833333  0    
  10.00  3.0    0.5833333  0    

Accuracy was used to select the optimal model using the largest value.
The final values used for the model were sigma = 3 and C = 0.01.</code></pre>
</div>
</div>
</section>
<section id="régression-sur-composantes-principales-pcr" class="level2">
<h2 class="anchored" data-anchor-id="régression-sur-composantes-principales-pcr">4. Régression sur composantes principales (PCR)</h2>
<p>La régression sur composantes principales (PCR) est une technique qui combine l’Analyse en Composantes Principales (ACP) avec une régression. Contrairement au Lasso qui effectue une sélection directe de variables, la PCR utilise des combinaisons linéaires de toutes les variables explicatives.</p>
<section id="mise-en-œuvre-de-la-pcr" class="level3">
<h3 class="anchored" data-anchor-id="mise-en-œuvre-de-la-pcr">Mise en œuvre de la PCR</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pls)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Création d'une variable numérique pour PCR/PLS</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>Y_num <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(df<span class="sc">$</span>Y <span class="sc">==</span> <span class="st">"AML"</span>)  <span class="co"># AML = 1, ALL = 0</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co"># PCR avec validation croisée</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12311</span>)</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>pcr_model <span class="ot">&lt;-</span> <span class="fu">pcr</span>(Y_num <span class="sc">~</span> . <span class="sc">-</span> Y, <span class="at">data =</span> df, </span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">scale =</span> <span class="cn">TRUE</span>, </span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">validation =</span> <span class="st">"CV"</span>, </span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">segments =</span> <span class="dv">10</span>)</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualisation de l'erreur de validation croisée</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="fu">validationplot</span>(pcr_model, <span class="at">val.type =</span> <span class="st">"MSEP"</span>, </span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>               <span class="at">main =</span> <span class="st">"PCR - Erreur de validation croisée"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RapportFinal_Amed_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraction du nombre optimal de composantes</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>msep_pcr <span class="ot">&lt;-</span> <span class="fu">MSEP</span>(pcr_model)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>ncomp_optimal <span class="ot">&lt;-</span> <span class="fu">which.min</span>(msep_pcr<span class="sc">$</span>val[<span class="dv">1</span>,<span class="dv">1</span>,])</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Nombre optimal de composantes PCR:"</span>, ncomp_optimal, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Nombre optimal de composantes PCR: 1 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"MSEP minimal:"</span>, <span class="fu">round</span>(<span class="fu">min</span>(msep_pcr<span class="sc">$</span>val[<span class="dv">1</span>,<span class="dv">1</span>,]), <span class="dv">4</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>MSEP minimal: 0.25 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Affichage de l'évolution de l'erreur</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(msep_pcr<span class="sc">$</span>val[<span class="dv">1</span>,<span class="dv">1</span>,], <span class="at">type =</span> <span class="st">"b"</span>, <span class="at">col =</span> <span class="st">"blue"</span>,</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"PCR - Évolution MSEP selon le nombre de composantes"</span>, </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Nombre de composantes"</span>, <span class="at">ylab =</span> <span class="st">"MSEP"</span>)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> ncomp_optimal, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(ncomp_optimal <span class="sc">+</span> <span class="dv">5</span>, <span class="fu">min</span>(msep_pcr<span class="sc">$</span>val[<span class="dv">1</span>,<span class="dv">1</span>,]), </span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>     <span class="fu">paste</span>(<span class="st">"Optimal:"</span>, ncomp_optimal), <span class="at">col =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RapportFinal_Amed_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="analyse-des-performances-pcr" class="level3">
<h3 class="anchored" data-anchor-id="analyse-des-performances-pcr">Analyse des performances PCR</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prédictions avec le nombre optimal de composantes</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>pred_pcr <span class="ot">&lt;-</span> <span class="fu">predict</span>(pcr_model, <span class="at">ncomp =</span> ncomp_optimal)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>pred_pcr_class <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(pred_pcr <span class="sc">&gt;</span> <span class="fl">0.5</span>, <span class="st">"AML"</span>, <span class="st">"ALL"</span>)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Matrice de confusion</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>table_pcr <span class="ot">&lt;-</span> <span class="fu">table</span>(<span class="at">Predicted =</span> pred_pcr_class, <span class="at">Actual =</span> df<span class="sc">$</span>Y)</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>accuracy_pcr <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">diag</span>(table_pcr)) <span class="sc">/</span> <span class="fu">sum</span>(table_pcr)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"=== RÉSULTATS PCR ===</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=== RÉSULTATS PCR ===</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Nombre de composantes utilisées:"</span>, ncomp_optimal, <span class="st">"sur"</span>, <span class="fu">ncol</span>(df)<span class="sc">-</span><span class="dv">2</span>, <span class="st">"variables</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Nombre de composantes utilisées: 1 sur 1000 variables</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Réduction de dimension:"</span>, <span class="fu">round</span>((<span class="dv">1</span> <span class="sc">-</span> ncomp_optimal<span class="sc">/</span>(<span class="fu">ncol</span>(df)<span class="sc">-</span><span class="dv">2</span>)) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>), <span class="st">"%</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Réduction de dimension: 99.9 %</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"MSEP minimal:"</span>, <span class="fu">round</span>(<span class="fu">min</span>(msep_pcr<span class="sc">$</span>val[<span class="dv">1</span>,<span class="dv">1</span>,]), <span class="dv">4</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>MSEP minimal: 0.25 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Matrice de confusion PCR:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Matrice de confusion PCR:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(table_pcr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         Actual
Predicted ALL AML
      ALL   3   1
      AML  27  41</code></pre>
</div>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Précision PCR:"</span>, <span class="fu">round</span>(accuracy_pcr <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>), <span class="st">"%</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Précision PCR: 61.11 %</code></pre>
</div>
</div>
</section>
<section id="comparaison-pcr-vs-lasso" class="level3">
<h3 class="anchored" data-anchor-id="comparaison-pcr-vs-lasso">Comparaison PCR vs Lasso</h3>
<p>D’après les résultats de la section 3, nous avons observé que :</p>
<p><strong>Lasso :</strong></p>
<p>- <strong>Variables sélectionnées :</strong> Aucune (le modèle a éliminé toutes les variables)</p>
<p>- <strong>Lambda optimal :</strong> 0.18 (régularisation forte)</p>
<p>- <strong>Approche :</strong> Sélection stricte de variables individuelles</p>
<p>- <strong>Interprétabilité :</strong> Très élevée (mais aucune variable retenue)</p>
<p><strong>PCR :</strong></p>
<p>- <strong>Composantes utilisées :</strong> 1 composantes principales</p>
<p>- <strong>Approche :</strong> Combinaisons linéaires de toutes les variables</p>
<p>- <strong>Réduction de dimension :</strong> De 1000 variables à 1 composantes</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Comparaison quantitative</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Comparaison Lasso vs PCR:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Comparaison Lasso vs PCR:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"- Lasso: 0 variables sélectionnées sur 1000</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>- Lasso: 0 variables sélectionnées sur 1000</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"- PCR:"</span>, ncomp_optimal, <span class="st">"composantes sur 71 possibles</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>- PCR: 1 composantes sur 71 possibles</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"- Réduction PCR:"</span>, <span class="fu">round</span>((<span class="dv">1000</span> <span class="sc">-</span> ncomp_optimal)<span class="sc">/</span><span class="dv">1000</span> <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>), <span class="st">"% de réduction</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>- Réduction PCR: 99.9 % de réduction</code></pre>
</div>
</div>
</section>
<section id="différence-dapproche-fondamentale" class="level3">
<h3 class="anchored" data-anchor-id="différence-dapproche-fondamentale">Différence d’approche fondamentale</h3>
<ol type="1">
<li><strong>Lasso</strong> : Effectue une sélection “dure” - les variables sont soit incluses (coefficient ≠ 0) soit exclues (coefficient = 0)</li>
<li><strong>PCR</strong> : Effectue une transformation “douce” - toutes les variables contribuent aux composantes principales mais avec des poids différents</li>
</ol>
</section>
<section id="question-guidée-que-perd-on-en-passant-des-variables-initiales-aux-composantes-principales" class="level3">
<h3 class="anchored" data-anchor-id="question-guidée-que-perd-on-en-passant-des-variables-initiales-aux-composantes-principales">Question guidée : Que perd-on en passant des variables initiales aux composantes principales ?</h3>
<p>En passant des variables initiales aux composantes principales, nous perdons principalement :</p>
<ol type="1">
<li><p><strong>L’interprétabilité directe</strong> : Une composante principale est une combinaison linéaire de toutes les variables. Il devient difficile d’identifier quelles variables originales ont un impact spécifique sur la prédiction.</p></li>
<li><p><strong>La parcimonie</strong> : Contrairement au Lasso qui peut éliminer des variables non informatives, la PCR utilise toutes les variables dans la construction des composantes.</p></li>
<li><p><strong>La signification métier</strong> : Les composantes principales n’ont pas de sens physique ou biologique direct, contrairement aux variables originales qui peuvent représenter des gènes, des biomarqueurs, etc.</p></li>
</ol>
<p>Cependant, nous gagnons en <strong>stabilité numérique</strong> et en <strong>capacité à capturer des structures complexes</strong> dans les données.</p>
<hr>
</section>
</section>
<section id="régression-pls-discriminante" class="level2">
<h2 class="anchored" data-anchor-id="régression-pls-discriminante">5. Régression PLS discriminante</h2>
<p>La régression PLS (Partial Least Squares) discriminante diffère de la PCR en construisant des composantes qui maximisent non seulement la variance des variables explicatives, mais aussi leur covariance avec la variable réponse.</p>
<section id="mise-en-œuvre-de-la-pls" class="level3">
<h3 class="anchored" data-anchor-id="mise-en-œuvre-de-la-pls">Mise en œuvre de la PLS</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># PLS avec validation croisée</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12311</span>)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>pls_model <span class="ot">&lt;-</span> <span class="fu">plsr</span>(Y_num <span class="sc">~</span> . <span class="sc">-</span> Y, <span class="at">data =</span> df, </span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">scale =</span> <span class="cn">TRUE</span>, </span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">validation =</span> <span class="st">"CV"</span>, </span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">segments =</span> <span class="dv">10</span>)</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualisation de l'erreur de validation croisée</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a><span class="fu">validationplot</span>(pls_model, <span class="at">val.type =</span> <span class="st">"MSEP"</span>, </span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">main =</span> <span class="st">"PLS - Erreur de validation croisée"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RapportFinal_Amed_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extraction du nombre optimal de composantes</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>msep_pls <span class="ot">&lt;-</span> <span class="fu">MSEP</span>(pls_model)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>ncomp_pls <span class="ot">&lt;-</span> <span class="fu">which.min</span>(msep_pls<span class="sc">$</span>val[<span class="dv">1</span>,<span class="dv">1</span>,])</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Nombre optimal de composantes PLS:"</span>, ncomp_pls, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Nombre optimal de composantes PLS: 1 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"MSEP minimal PLS:"</span>, <span class="fu">min</span>(msep_pls<span class="sc">$</span>val[<span class="dv">1</span>,<span class="dv">1</span>,]), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>MSEP minimal PLS: 0.2499504 </code></pre>
</div>
</div>
</section>
<section id="analyse-des-performances-pls" class="level3">
<h3 class="anchored" data-anchor-id="analyse-des-performances-pls">Analyse des performances PLS</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prédictions avec le nombre optimal de composantes</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>pred_pls <span class="ot">&lt;-</span> <span class="fu">predict</span>(pls_model, <span class="at">ncomp =</span> ncomp_pls)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>pred_pls_class <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(pred_pls <span class="sc">&gt;</span> <span class="fl">0.5</span>, <span class="st">"AML"</span>, <span class="st">"ALL"</span>)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Matrice de confusion</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>table_pls <span class="ot">&lt;-</span> <span class="fu">table</span>(<span class="at">Predicted =</span> pred_pls_class, <span class="at">Actual =</span> df<span class="sc">$</span>Y)</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>accuracy_pls <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">diag</span>(table_pls)) <span class="sc">/</span> <span class="fu">sum</span>(table_pls)</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Matrice de confusion PLS:</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Matrice de confusion PLS:</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(table_pls)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         Actual
Predicted ALL AML
      ALL  30   0
      AML   0  42</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">Précision PLS:"</span>, <span class="fu">round</span>(accuracy_pls <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>), <span class="st">"%</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Précision PLS: 100 %</code></pre>
</div>
</div>
</section>
<section id="comparaison-des-trois-méthodes" class="level3">
<h3 class="anchored" data-anchor-id="comparaison-des-trois-méthodes">Comparaison des trois méthodes</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tableau de comparaison</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>comparison_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  Méthode <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Lasso"</span>, <span class="st">"PCR"</span>, <span class="st">"PLS"</span>),</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Variables_Composantes =</span> <span class="fu">c</span>(<span class="st">"0 variables"</span>, </span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">paste</span>(ncomp_optimal, <span class="st">"composantes"</span>), </span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>                           <span class="fu">paste</span>(ncomp_pls, <span class="st">"composantes"</span>)),</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>  Précision <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"N/A (aucune variable)"</span>, </span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>                <span class="fu">paste</span>(<span class="fu">round</span>(accuracy_pcr <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>), <span class="st">"%"</span>),</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>                <span class="fu">paste</span>(<span class="fu">round</span>(accuracy_pls <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>), <span class="st">"%"</span>)),</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">MSEP =</span> <span class="fu">c</span>(<span class="st">"N/A"</span>, </span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>           <span class="fu">round</span>(<span class="fu">min</span>(msep_pcr<span class="sc">$</span>val[<span class="dv">1</span>,<span class="dv">1</span>,]), <span class="dv">4</span>),</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>           <span class="fu">round</span>(<span class="fu">min</span>(msep_pls<span class="sc">$</span>val[<span class="dv">1</span>,<span class="dv">1</span>,]), <span class="dv">4</span>)),</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">Approche =</span> <span class="fu">c</span>(<span class="st">"Sélection de variables"</span>, </span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Composantes basées sur variance X"</span>, </span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Composantes basées sur covariance X~Y"</span>)</span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(comparison_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Méthode Variables_Composantes             Précision MSEP
1   Lasso           0 variables N/A (aucune variable)  N/A
2     PCR         1 composantes               61.11 % 0.25
3     PLS         1 composantes                 100 % 0.25
                               Approche
1                Sélection de variables
2     Composantes basées sur variance X
3 Composantes basées sur covariance X~Y</code></pre>
</div>
</div>
</section>
<section id="comparaison-graphique-pcr-vs-pls" class="level3">
<h3 class="anchored" data-anchor-id="comparaison-graphique-pcr-vs-pls">Comparaison graphique PCR vs PLS</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Comparaison des courbes d'erreur</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(msep_pcr<span class="sc">$</span>val[<span class="dv">1</span>,<span class="dv">1</span>,], <span class="at">type =</span> <span class="st">"b"</span>, <span class="at">col =</span> <span class="st">"blue"</span>,</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"PCR - Évolution MSEP"</span>, </span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Composantes"</span>, <span class="at">ylab =</span> <span class="st">"MSEP"</span>)</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> ncomp_optimal, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(msep_pls<span class="sc">$</span>val[<span class="dv">1</span>,<span class="dv">1</span>,], <span class="at">type =</span> <span class="st">"b"</span>, <span class="at">col =</span> <span class="st">"green"</span>,</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">"PLS - Évolution MSEP"</span>, </span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">"Composantes"</span>, <span class="at">ylab =</span> <span class="st">"MSEP"</span>)</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> ncomp_pls, <span class="at">col =</span> <span class="st">"red"</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RapportFinal_Amed_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="interprétation-des-résultats" class="level3">
<h3 class="anchored" data-anchor-id="interprétation-des-résultats">Interprétation des résultats</h3>
<p><strong>Performances relatives :</strong></p>
<ol type="1">
<li><strong>Lasso</strong> : Échec complet - aucune variable sélectionnée
<ul>
<li>Cela suggère que les variables individuelles n’ont pas d’effet discriminant suffisant</li>
<li>La régularisation L1 a été trop sévère pour ce jeu de données</li>
</ul></li>
<li><strong>PCR</strong> : Performance modérée avec 1 composantes
<ul>
<li>Réussit à capturer des signaux grâce aux combinaisons de variables</li>
<li>Nécessite plus de composantes car elles ne sont pas optimisées pour la prédiction</li>
</ul></li>
<li><strong>PLS</strong> : Meilleure performance avec 1 composantes
<ul>
<li>Plus efficace car les composantes sont construites en tenant compte de Y</li>
<li>Nécessite généralement moins de composantes que PCR</li>
</ul></li>
</ol>
<p>La méthode PLS est plus performante que la PCR car elle tient compte de la variable à prédire pour construire ses composantes, ce qui permet d’obtenir de bons résultats avec moins de dimensions. Cependant, comme la PCR, elle sacrifie une certaine interprétabilité directe des résultats puisque les prédicteurs utilisés sont des combinaisons linéaires des variables initiales.</p>
<p>Dans un contexte où le nombre de variables est très grand par rapport au nombre d’observations, la PLS discriminante donne de meilleurs résultats que le Lasso et la PCR. Elle capte mieux l’information utile pour la prédiction, mais au prix d’une interprétation plus compliquée des résultats.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Nombre optimal de composantes pour PLS</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>ncomp_pls <span class="ot">&lt;-</span> <span class="fu">which.min</span>(<span class="fu">MSEP</span>(pls_model)<span class="sc">$</span>val[<span class="dv">1</span>,<span class="dv">1</span>,])</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>ncomp_pls</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept) 
          1 </code></pre>
</div>
</div>
<p>Selon la validation croisée, le nombre optimal de composantes pour la régression PLS discriminante est environ 1 composantes.</p>
</section>
<section id="comparaison-des-performances-pls-vs-pcr-vs-lasso" class="level3">
<h3 class="anchored" data-anchor-id="comparaison-des-performances-pls-vs-pcr-vs-lasso">Comparaison des performances PLS vs PCR vs Lasso</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th>Méthode</th>
<th>Nb composantes/variables retenues</th>
<th>Principe d’approche</th>
<th>Interprétabilité</th>
<th>Performance prédictive</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Lasso</td>
<td>0</td>
<td>Sélection de variables explicites</td>
<td>Très élevée</td>
<td>Faible dans ce cas (aucune variable sélectionnée)</td>
</tr>
<tr class="even">
<td>PCR</td>
<td>1</td>
<td>Combinaisons linéaires maximisant la variance de X</td>
<td>Faible</td>
<td>Modérée à bonne (utilise plusieurs composantes)</td>
</tr>
<tr class="odd">
<td>PLS</td>
<td>1</td>
<td>Combinaisons linéaires maximisant la covariance X~Y</td>
<td>Faible à modérée</td>
<td>Bonne à très bonne (utilise peu de composantes)</td>
</tr>
</tbody>
</table>
</section>
<section id="interprétation-des-résultats-obtenus-pls-vs-pcr-vs-lasso" class="level3">
<h3 class="anchored" data-anchor-id="interprétation-des-résultats-obtenus-pls-vs-pcr-vs-lasso">Interprétation des résultats obtenus (PLS vs PCR vs Lasso)</h3>
<ul>
<li><p><strong>Régression Lasso</strong> : Dans ce cas précis, aucune variable n’est sélectionnée, ce qui indique que les variables prises individuellement n’ont pas un effet assez fort pour être retenues par le modèle. Cela peut être dû à une forte régularisation ou à une absence de lien direct simple entre variables explicatives et réponse.</p></li>
<li><p><strong>PCR</strong> : La PCR capture l’information présente dans les variables explicatives via des combinaisons linéaires (composantes principales). Cependant, ces composantes principales sont calculées uniquement en fonction de l’information contenue dans les variables explicatives (variance maximale) sans considérer directement la variable réponse.</p></li>
<li><p><strong>PLS</strong> : Contrairement à la PCR, la PLS discriminante construit des composantes qui maximisent directement leur covariance avec la variable cible. Cela aboutit généralement à un nombre réduit de composantes nécessaires pour obtenir une bonne prédiction. Ainsi, la PLS est plus efficace que la PCR lorsque l’objectif principal est la prédiction.</p></li>
</ul>
<p>La régression PLS discriminante se révèle particulièrement intéressante dans ce contexte, car elle permet de réduire efficacement la dimension tout en conservant une forte capacité prédictive. Elle représente un bon compromis entre la sélection stricte de variables (comme en Lasso) et la réduction dimensionnelle purement basée sur la variance (comme en PCR). Cependant, tout comme la PCR, elle sacrifie une certaine interprétabilité directe des résultats puisque les prédicteurs utilisés sont des combinaisons linéaires des variables initiales.</p>
</section>
</section>
<section id="comparaison-de-méthodes-de-classification-en-grande-dimension" class="level2">
<h2 class="anchored" data-anchor-id="comparaison-de-méthodes-de-classification-en-grande-dimension">6. Comparaison de méthodes de classification en grande dimension</h2>
<p>Dans notre contexte de grande dimension (p = 1000, n = 72), nous comparons trois méthodes de classification pour évaluer leur capacité à gérer la haute dimensionnalité : régression logistique Ridge, forêt aléatoire et gradient boosting.</p>
<p><strong>Objectif :</strong> Identifier la méthode la plus adaptée au contexte p &gt;&gt; n en considérant performance, stabilité et interprétabilité.</p>
<p><strong>Protocole d’évaluation :</strong></p>
<p>- Validation croisée 10-fold stratifiée</p>
<p>- Métriques principales : accuracy, sensibilité, spécificité</p>
<p>- Optimisation des hyperparamètres pour chaque méthode</p>
<section id="régression-logistique-ridge-lapproche-linéaire-régularisée" class="level3">
<h3 class="anchored" data-anchor-id="régression-logistique-ridge-lapproche-linéaire-régularisée">Régression logistique Ridge : L’approche linéaire régularisée</h3>
<p>En grande dimension, la régression logistique classique devient inapplicable (matrice X’X non inversible). La régularisation Ridge offre une solution en ajoutant une pénalité L2 qui stabilise l’estimation.</p>
<p><strong>Modèle utilisé :</strong> <span class="math display">\[\min_{\beta} \left[ -\log L(\beta) + \lambda \sum_{j=1}^p \beta_j^2 \right]\]</span></p>
<p><strong>Avantages :</strong> Interprétabilité directe des coefficients, stabilité numérique<br>
<strong>Inconvénients :</strong> Hypothèse de linéarité restrictive en grande dimension</p>
<section id="implémentation-et-évaluation" class="level4">
<h4 class="anchored" data-anchor-id="implémentation-et-évaluation">Implémentation et évaluation</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Chargement des bibliothèques nécessaires</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glmnet)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12311</span>)  <span class="co"># Reproductibilité</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a><span class="co"># === FONCTION ROBUSTE POUR CALCULER LES MÉTRIQUES ===</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>calculate_metrics_robust <span class="ot">&lt;-</span> <span class="cf">function</span>(pred_class, actual_class) {</span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Créer une matrice de confusion complète avec toutes les classes</span></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>  all_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"ALL"</span>, <span class="st">"AML"</span>)</span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>  pred_factor <span class="ot">&lt;-</span> <span class="fu">factor</span>(pred_class, <span class="at">levels =</span> all_levels)</span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>  actual_factor <span class="ot">&lt;-</span> <span class="fu">factor</span>(actual_class, <span class="at">levels =</span> all_levels)</span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>  cm <span class="ot">&lt;-</span> <span class="fu">table</span>(<span class="at">Predicted =</span> pred_factor, <span class="at">Actual =</span> actual_factor)</span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># S'assurer que la matrice a bien les dimensions 2x2</span></span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">nrow</span>(cm) <span class="sc">!=</span> <span class="dv">2</span> <span class="sc">||</span> <span class="fu">ncol</span>(cm) <span class="sc">!=</span> <span class="dv">2</span>) {</span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Créer une matrice 2x2 par défaut</span></span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a>    cm_full <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>, </span>
<span id="cb60-20"><a href="#cb60-20" aria-hidden="true" tabindex="-1"></a>                      <span class="at">dimnames =</span> <span class="fu">list</span>(<span class="at">Predicted =</span> all_levels, <span class="at">Actual =</span> all_levels))</span>
<span id="cb60-21"><a href="#cb60-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Copier les valeurs existantes</span></span>
<span id="cb60-22"><a href="#cb60-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">rownames</span>(cm)) {</span>
<span id="cb60-23"><a href="#cb60-23" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span>(j <span class="cf">in</span> <span class="fu">colnames</span>(cm)) {</span>
<span id="cb60-24"><a href="#cb60-24" aria-hidden="true" tabindex="-1"></a>        cm_full[i, j] <span class="ot">&lt;-</span> cm[i, j]</span>
<span id="cb60-25"><a href="#cb60-25" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb60-26"><a href="#cb60-26" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb60-27"><a href="#cb60-27" aria-hidden="true" tabindex="-1"></a>    cm <span class="ot">&lt;-</span> cm_full</span>
<span id="cb60-28"><a href="#cb60-28" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb60-29"><a href="#cb60-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb60-30"><a href="#cb60-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calcul des métriques avec gestion des divisions par zéro</span></span>
<span id="cb60-31"><a href="#cb60-31" aria-hidden="true" tabindex="-1"></a>  accuracy <span class="ot">&lt;-</span> <span class="fu">sum</span>(<span class="fu">diag</span>(cm)) <span class="sc">/</span> <span class="fu">sum</span>(cm)</span>
<span id="cb60-32"><a href="#cb60-32" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb60-33"><a href="#cb60-33" aria-hidden="true" tabindex="-1"></a>  <span class="co"># TP, TN, FP, FN pour la classe AML (positive)</span></span>
<span id="cb60-34"><a href="#cb60-34" aria-hidden="true" tabindex="-1"></a>  TP <span class="ot">&lt;-</span> cm[<span class="dv">2</span>, <span class="dv">2</span>]  <span class="co"># AML prédit comme AML</span></span>
<span id="cb60-35"><a href="#cb60-35" aria-hidden="true" tabindex="-1"></a>  TN <span class="ot">&lt;-</span> cm[<span class="dv">1</span>, <span class="dv">1</span>]  <span class="co"># ALL prédit comme ALL</span></span>
<span id="cb60-36"><a href="#cb60-36" aria-hidden="true" tabindex="-1"></a>  FP <span class="ot">&lt;-</span> cm[<span class="dv">2</span>, <span class="dv">1</span>]  <span class="co"># ALL prédit comme AML</span></span>
<span id="cb60-37"><a href="#cb60-37" aria-hidden="true" tabindex="-1"></a>  FN <span class="ot">&lt;-</span> cm[<span class="dv">1</span>, <span class="dv">2</span>]  <span class="co"># AML prédit comme ALL</span></span>
<span id="cb60-38"><a href="#cb60-38" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb60-39"><a href="#cb60-39" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Métriques avec gestion des cas particuliers</span></span>
<span id="cb60-40"><a href="#cb60-40" aria-hidden="true" tabindex="-1"></a>  sensitivity <span class="ot">&lt;-</span> <span class="fu">ifelse</span>((TP <span class="sc">+</span> FN) <span class="sc">&gt;</span> <span class="dv">0</span>, TP <span class="sc">/</span> (TP <span class="sc">+</span> FN), <span class="dv">0</span>)  <span class="co"># Recall</span></span>
<span id="cb60-41"><a href="#cb60-41" aria-hidden="true" tabindex="-1"></a>  specificity <span class="ot">&lt;-</span> <span class="fu">ifelse</span>((TN <span class="sc">+</span> FP) <span class="sc">&gt;</span> <span class="dv">0</span>, TN <span class="sc">/</span> (TN <span class="sc">+</span> FP), <span class="dv">0</span>)</span>
<span id="cb60-42"><a href="#cb60-42" aria-hidden="true" tabindex="-1"></a>  precision <span class="ot">&lt;-</span> <span class="fu">ifelse</span>((TP <span class="sc">+</span> FP) <span class="sc">&gt;</span> <span class="dv">0</span>, TP <span class="sc">/</span> (TP <span class="sc">+</span> FP), <span class="dv">0</span>)</span>
<span id="cb60-43"><a href="#cb60-43" aria-hidden="true" tabindex="-1"></a>  f1_score <span class="ot">&lt;-</span> <span class="fu">ifelse</span>((precision <span class="sc">+</span> sensitivity) <span class="sc">&gt;</span> <span class="dv">0</span>, </span>
<span id="cb60-44"><a href="#cb60-44" aria-hidden="true" tabindex="-1"></a>                     <span class="dv">2</span> <span class="sc">*</span> (precision <span class="sc">*</span> sensitivity) <span class="sc">/</span> (precision <span class="sc">+</span> sensitivity), <span class="dv">0</span>)</span>
<span id="cb60-45"><a href="#cb60-45" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb60-46"><a href="#cb60-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">c</span>(<span class="at">accuracy =</span> accuracy, <span class="at">sensitivity =</span> sensitivity, </span>
<span id="cb60-47"><a href="#cb60-47" aria-hidden="true" tabindex="-1"></a>           <span class="at">specificity =</span> specificity, <span class="at">precision =</span> precision, <span class="at">f1_score =</span> f1_score))</span>
<span id="cb60-48"><a href="#cb60-48" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb60-49"><a href="#cb60-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-50"><a href="#cb60-50" aria-hidden="true" tabindex="-1"></a><span class="co"># === PRÉPARATION DES DONNÉES ===</span></span>
<span id="cb60-51"><a href="#cb60-51" aria-hidden="true" tabindex="-1"></a>X_matrix <span class="ot">&lt;-</span> <span class="fu">model.matrix</span>(Y <span class="sc">~</span> . <span class="sc">-</span> Y_num, <span class="at">data =</span> df)[,<span class="sc">-</span><span class="dv">1</span>]  <span class="co"># Suppression intercept</span></span>
<span id="cb60-52"><a href="#cb60-52" aria-hidden="true" tabindex="-1"></a>Y_binary <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(df<span class="sc">$</span>Y <span class="sc">==</span> <span class="st">"AML"</span>)  <span class="co"># Codage binaire 0/1</span></span>
<span id="cb60-53"><a href="#cb60-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-54"><a href="#cb60-54" aria-hidden="true" tabindex="-1"></a><span class="co"># === SÉLECTION DU PARAMÈTRE DE RÉGULARISATION ===</span></span>
<span id="cb60-55"><a href="#cb60-55" aria-hidden="true" tabindex="-1"></a>cv_ridge <span class="ot">&lt;-</span> <span class="fu">cv.glmnet</span>(X_matrix, Y_binary, </span>
<span id="cb60-56"><a href="#cb60-56" aria-hidden="true" tabindex="-1"></a>                     <span class="at">family =</span> <span class="st">"binomial"</span>,  <span class="co"># Classification binaire</span></span>
<span id="cb60-57"><a href="#cb60-57" aria-hidden="true" tabindex="-1"></a>                     <span class="at">alpha =</span> <span class="dv">0</span>,           <span class="co"># Ridge (L2)</span></span>
<span id="cb60-58"><a href="#cb60-58" aria-hidden="true" tabindex="-1"></a>                     <span class="at">nfolds =</span> <span class="dv">10</span>)         <span class="co"># 10-fold CV</span></span>
<span id="cb60-59"><a href="#cb60-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-60"><a href="#cb60-60" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Lambda optimal :"</span>, <span class="fu">round</span>(cv_ridge<span class="sc">$</span>lambda.min, <span class="dv">6</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Lambda optimal : 189.0601</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># === VALIDATION CROISÉE 10-FOLD ===</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12311</span>)</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>k_folds <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>folds <span class="ot">&lt;-</span> <span class="fu">createFolds</span>(df<span class="sc">$</span>Y, <span class="at">k =</span> k_folds, <span class="at">list =</span> <span class="cn">TRUE</span>)</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Initialisation de la matrice des métriques</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>logit_metrics <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> k_folds, <span class="at">ncol =</span> <span class="dv">5</span>)</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(logit_metrics) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"accuracy"</span>, <span class="st">"sensitivity"</span>, <span class="st">"specificity"</span>, <span class="st">"precision"</span>, <span class="st">"f1_score"</span>)</span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Boucle de validation croisée</span></span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>k_folds) {</span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Division train/test</span></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>  test_idx <span class="ot">&lt;-</span> folds[[i]]</span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>  X_train <span class="ot">&lt;-</span> X_matrix[<span class="sc">-</span>test_idx, ]</span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a>  X_test <span class="ot">&lt;-</span> X_matrix[test_idx, ]</span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a>  Y_train <span class="ot">&lt;-</span> Y_binary[<span class="sc">-</span>test_idx]</span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a>  Y_test <span class="ot">&lt;-</span> df<span class="sc">$</span>Y[test_idx]</span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb62-19"><a href="#cb62-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Entraînement avec sélection de lambda sur le training set</span></span>
<span id="cb62-20"><a href="#cb62-20" aria-hidden="true" tabindex="-1"></a>  cv_temp <span class="ot">&lt;-</span> <span class="fu">cv.glmnet</span>(X_train, Y_train, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">alpha =</span> <span class="dv">0</span>, <span class="at">nfolds =</span> <span class="dv">5</span>)</span>
<span id="cb62-21"><a href="#cb62-21" aria-hidden="true" tabindex="-1"></a>  model_temp <span class="ot">&lt;-</span> <span class="fu">glmnet</span>(X_train, Y_train, <span class="at">family =</span> <span class="st">"binomial"</span>, <span class="at">alpha =</span> <span class="dv">0</span>, </span>
<span id="cb62-22"><a href="#cb62-22" aria-hidden="true" tabindex="-1"></a>                       <span class="at">lambda =</span> cv_temp<span class="sc">$</span>lambda.min)</span>
<span id="cb62-23"><a href="#cb62-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb62-24"><a href="#cb62-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Prédictions</span></span>
<span id="cb62-25"><a href="#cb62-25" aria-hidden="true" tabindex="-1"></a>  pred_prob <span class="ot">&lt;-</span> <span class="fu">predict</span>(model_temp, X_test, <span class="at">type =</span> <span class="st">"response"</span>)</span>
<span id="cb62-26"><a href="#cb62-26" aria-hidden="true" tabindex="-1"></a>  pred_class <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(pred_prob <span class="sc">&gt;</span> <span class="fl">0.5</span>, <span class="st">"AML"</span>, <span class="st">"ALL"</span>)</span>
<span id="cb62-27"><a href="#cb62-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb62-28"><a href="#cb62-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calcul des métriques avec fonction robuste</span></span>
<span id="cb62-29"><a href="#cb62-29" aria-hidden="true" tabindex="-1"></a>  metrics <span class="ot">&lt;-</span> <span class="fu">calculate_metrics_robust</span>(pred_class, Y_test)</span>
<span id="cb62-30"><a href="#cb62-30" aria-hidden="true" tabindex="-1"></a>  logit_metrics[i,] <span class="ot">&lt;-</span> metrics</span>
<span id="cb62-31"><a href="#cb62-31" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb62-32"><a href="#cb62-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-33"><a href="#cb62-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Synthèse des résultats</span></span>
<span id="cb62-34"><a href="#cb62-34" aria-hidden="true" tabindex="-1"></a>logit_results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb62-35"><a href="#cb62-35" aria-hidden="true" tabindex="-1"></a>  Métrique <span class="ot">=</span> <span class="fu">colnames</span>(logit_metrics),</span>
<span id="cb62-36"><a href="#cb62-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">Moyenne =</span> <span class="fu">round</span>(<span class="fu">apply</span>(logit_metrics, <span class="dv">2</span>, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">4</span>),</span>
<span id="cb62-37"><a href="#cb62-37" aria-hidden="true" tabindex="-1"></a>  <span class="at">Ecart_type =</span> <span class="fu">round</span>(<span class="fu">apply</span>(logit_metrics, <span class="dv">2</span>, sd, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">4</span>)</span>
<span id="cb62-38"><a href="#cb62-38" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb62-39"><a href="#cb62-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-40"><a href="#cb62-40" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"=== RÉSULTATS RÉGRESSION LOGISTIQUE RIDGE ===</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=== RÉSULTATS RÉGRESSION LOGISTIQUE RIDGE ===</code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(logit_results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               Métrique Moyenne Ecart_type
accuracy       accuracy  0.5821     0.0226
sensitivity sensitivity  1.0000     0.0000
specificity specificity  0.0000     0.0000
precision     precision  0.5821     0.0226
f1_score       f1_score  0.7357     0.0177</code></pre>
</div>
</div>
</section>
</section>
<section id="forêt-aléatoire-lapproche-par-ensemble" class="level3">
<h3 class="anchored" data-anchor-id="forêt-aléatoire-lapproche-par-ensemble">6.2 Forêt aléatoire : L’approche par ensemble</h3>
<p>La forêt aléatoire est particulièrement adaptée à la grande dimension grâce à ses mécanismes intégrés de régularisation : - <strong>Bagging</strong> : Réduction de la variance par moyennage de modèles - <strong>Sélection aléatoire</strong> : Seules √p variables sont considérées à chaque split</p>
<p><strong>Avantages :</strong> Gestion naturelle de la grande dimension, robustesse au bruit<br>
<strong>Inconvénients :</strong> Interprétabilité limitée, temps de calcul plus élevé</p>
<section id="implémentation-et-optimisation" class="level4">
<h4 class="anchored" data-anchor-id="implémentation-et-optimisation">Implémentation et optimisation</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(randomForest)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12311</span>)</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="co"># === OPTIMISATION DES HYPERPARAMÈTRES ===</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"=== RECHERCHE D'HYPERPARAMÈTRES OPTIMAUX ===</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=== RECHERCHE D'HYPERPARAMÈTRES OPTIMAUX ===</code></pre>
</div>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Grille de recherche adaptée à notre contexte (p=1000, n=72)</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>mtry_values <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">32</span>, <span class="dv">56</span>, <span class="dv">100</span>)  <span class="co"># √1000 ≈ 32</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>ntree_values <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">300</span>, <span class="dv">500</span>, <span class="dv">800</span>)</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Recherche par grille avec validation OOB (Out-Of-Bag)</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>best_oob_error <span class="ot">&lt;-</span> <span class="cn">Inf</span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>best_params <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(mtry <span class="cf">in</span> mtry_values) {</span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(ntree <span class="cf">in</span> ntree_values) {</span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a>    rf_temp <span class="ot">&lt;-</span> <span class="fu">randomForest</span>(Y <span class="sc">~</span> . <span class="sc">-</span> Y_num, <span class="at">data =</span> df, </span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a>                           <span class="at">mtry =</span> mtry, </span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a>                           <span class="at">ntree =</span> ntree,</span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a>                           <span class="at">importance =</span> <span class="cn">TRUE</span>)</span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb68-16"><a href="#cb68-16" aria-hidden="true" tabindex="-1"></a>    oob_error <span class="ot">&lt;-</span> rf_temp<span class="sc">$</span>err.rate[ntree, <span class="st">"OOB"</span>]</span>
<span id="cb68-17"><a href="#cb68-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb68-18"><a href="#cb68-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(oob_error <span class="sc">&lt;</span> best_oob_error) {</span>
<span id="cb68-19"><a href="#cb68-19" aria-hidden="true" tabindex="-1"></a>      best_oob_error <span class="ot">&lt;-</span> oob_error</span>
<span id="cb68-20"><a href="#cb68-20" aria-hidden="true" tabindex="-1"></a>      best_params <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">mtry =</span> mtry, <span class="at">ntree =</span> ntree)</span>
<span id="cb68-21"><a href="#cb68-21" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb68-22"><a href="#cb68-22" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb68-23"><a href="#cb68-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb68-24"><a href="#cb68-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-25"><a href="#cb68-25" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Meilleurs hyperparamètres : mtry ="</span>, best_params<span class="sc">$</span>mtry, <span class="st">", ntree ="</span>, best_params<span class="sc">$</span>ntree)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Meilleurs hyperparamètres : mtry = 32 , ntree = 300</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Modèle final avec paramètres optimaux</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>rf_final <span class="ot">&lt;-</span> <span class="fu">randomForest</span>(Y <span class="sc">~</span> . <span class="sc">-</span> Y_num, <span class="at">data =</span> df, </span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">mtry =</span> best_params<span class="sc">$</span>mtry, </span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>                        <span class="at">ntree =</span> best_params<span class="sc">$</span>ntree,</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>                        <span class="at">importance =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="évaluation-par-validation-croisée" class="level4">
<h4 class="anchored" data-anchor-id="évaluation-par-validation-croisée">Évaluation par validation croisée</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># === VALIDATION CROISÉE 10-FOLD ===</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>rf_metrics <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> k_folds, <span class="at">ncol =</span> <span class="dv">5</span>)</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(rf_metrics) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"accuracy"</span>, <span class="st">"sensitivity"</span>, <span class="st">"specificity"</span>, <span class="st">"precision"</span>, <span class="st">"f1_score"</span>)</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>k_folds) {</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>  test_idx <span class="ot">&lt;-</span> folds[[i]]</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>  train_data <span class="ot">&lt;-</span> df[<span class="sc">-</span>test_idx, ]</span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a>  test_data <span class="ot">&lt;-</span> df[test_idx, ]</span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Entraînement avec hyperparamètres optimaux</span></span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>  rf_temp <span class="ot">&lt;-</span> <span class="fu">randomForest</span>(Y <span class="sc">~</span> . <span class="sc">-</span> Y_num, <span class="at">data =</span> train_data, </span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a>                         <span class="at">mtry =</span> best_params<span class="sc">$</span>mtry, </span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a>                         <span class="at">ntree =</span> best_params<span class="sc">$</span>ntree)</span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Prédictions</span></span>
<span id="cb71-16"><a href="#cb71-16" aria-hidden="true" tabindex="-1"></a>  pred_class <span class="ot">&lt;-</span> <span class="fu">predict</span>(rf_temp, test_data)</span>
<span id="cb71-17"><a href="#cb71-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb71-18"><a href="#cb71-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calcul des métriques</span></span>
<span id="cb71-19"><a href="#cb71-19" aria-hidden="true" tabindex="-1"></a>  metrics <span class="ot">&lt;-</span> <span class="fu">calculate_metrics_robust</span>(pred_class, test_data<span class="sc">$</span>Y)</span>
<span id="cb71-20"><a href="#cb71-20" aria-hidden="true" tabindex="-1"></a>  rf_metrics[i,] <span class="ot">&lt;-</span> metrics</span>
<span id="cb71-21"><a href="#cb71-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb71-22"><a href="#cb71-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-23"><a href="#cb71-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Synthèse des résultats</span></span>
<span id="cb71-24"><a href="#cb71-24" aria-hidden="true" tabindex="-1"></a>rf_results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb71-25"><a href="#cb71-25" aria-hidden="true" tabindex="-1"></a>  Métrique <span class="ot">=</span> <span class="fu">colnames</span>(rf_metrics),</span>
<span id="cb71-26"><a href="#cb71-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">Moyenne =</span> <span class="fu">round</span>(<span class="fu">apply</span>(rf_metrics, <span class="dv">2</span>, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">4</span>),</span>
<span id="cb71-27"><a href="#cb71-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">Ecart_type =</span> <span class="fu">round</span>(<span class="fu">apply</span>(rf_metrics, <span class="dv">2</span>, sd, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">4</span>)</span>
<span id="cb71-28"><a href="#cb71-28" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb71-29"><a href="#cb71-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-30"><a href="#cb71-30" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"=== RÉSULTATS FORÊT ALÉATOIRE ===</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=== RÉSULTATS FORÊT ALÉATOIRE ===</code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(rf_results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               Métrique Moyenne Ecart_type
accuracy       accuracy  0.5679     0.0538
sensitivity sensitivity  0.9750     0.0791
specificity specificity  0.0000     0.0000
precision     precision  0.5750     0.0345
f1_score       f1_score  0.7229     0.0466</code></pre>
</div>
</div>
</section>
</section>
<section id="gradient-boosting-lapprentissage-séquentiel" class="level3">
<h3 class="anchored" data-anchor-id="gradient-boosting-lapprentissage-séquentiel">6.3 Gradient Boosting : L’apprentissage séquentiel</h3>
<p>Le gradient boosting diffère de la forêt aléatoire par son approche séquentielle : chaque nouveau modèle corrige les erreurs du précédent, permettant une optimisation itérative.</p>
<p><strong>Principe :</strong> Construction séquentielle d’arbres faibles où chaque modèle apprend des résidus du précédent<br>
<strong>Avantages :</strong> Excellente capacité d’apprentissage, adaptation fine aux patterns complexes<br>
<strong>Inconvénients :</strong> Risque de surapprentissage, temps de calcul élevé</p>
<section id="implémentation-et-optimisation-1" class="level4">
<h4 class="anchored" data-anchor-id="implémentation-et-optimisation-1">Implémentation et optimisation</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gbm)</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12311</span>)</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a><span class="co"># === PRÉPARATION DES DONNÉES ===</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>df_gbm <span class="ot">&lt;-</span> df</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>df_gbm<span class="sc">$</span>Y_gbm <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(df_gbm<span class="sc">$</span>Y <span class="sc">==</span> <span class="st">"AML"</span>)  <span class="co"># Variable numérique pour GBM</span></span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"=== OPTIMISATION DES HYPERPARAMÈTRES GBM ===</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=== OPTIMISATION DES HYPERPARAMÈTRES GBM ===</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Grille de recherche réduite mais représentative</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>gbm_grid <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">n.trees =</span> <span class="fu">c</span>(<span class="dv">200</span>, <span class="dv">400</span>, <span class="dv">600</span>),</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">interaction.depth =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>),</span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">shrinkage =</span> <span class="fu">c</span>(<span class="fl">0.01</span>, <span class="fl">0.05</span>, <span class="fl">0.1</span>),</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">n.minobsinnode =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">10</span>)</span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Échantillonnage pour réduire le temps de calcul</span></span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">12311</span>)</span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a>sample_size <span class="ot">&lt;-</span> <span class="fu">min</span>(<span class="dv">15</span>, <span class="fu">nrow</span>(gbm_grid))</span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a>sampled_indices <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">nrow</span>(gbm_grid), sample_size)</span>
<span id="cb77-13"><a href="#cb77-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-14"><a href="#cb77-14" aria-hidden="true" tabindex="-1"></a>best_cv_error <span class="ot">&lt;-</span> <span class="cn">Inf</span></span>
<span id="cb77-15"><a href="#cb77-15" aria-hidden="true" tabindex="-1"></a>best_gbm_params <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb77-16"><a href="#cb77-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-17"><a href="#cb77-17" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> sampled_indices) {</span>
<span id="cb77-18"><a href="#cb77-18" aria-hidden="true" tabindex="-1"></a>  params <span class="ot">&lt;-</span> gbm_grid[i, ]</span>
<span id="cb77-19"><a href="#cb77-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb77-20"><a href="#cb77-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Modèle avec validation croisée interne</span></span>
<span id="cb77-21"><a href="#cb77-21" aria-hidden="true" tabindex="-1"></a>  gbm_temp <span class="ot">&lt;-</span> <span class="fu">gbm</span>(Y_gbm <span class="sc">~</span> . <span class="sc">-</span> Y <span class="sc">-</span> Y_num, <span class="at">data =</span> df_gbm,</span>
<span id="cb77-22"><a href="#cb77-22" aria-hidden="true" tabindex="-1"></a>                 <span class="at">distribution =</span> <span class="st">"bernoulli"</span>,</span>
<span id="cb77-23"><a href="#cb77-23" aria-hidden="true" tabindex="-1"></a>                 <span class="at">n.trees =</span> params<span class="sc">$</span>n.trees,</span>
<span id="cb77-24"><a href="#cb77-24" aria-hidden="true" tabindex="-1"></a>                 <span class="at">interaction.depth =</span> params<span class="sc">$</span>interaction.depth,</span>
<span id="cb77-25"><a href="#cb77-25" aria-hidden="true" tabindex="-1"></a>                 <span class="at">shrinkage =</span> params<span class="sc">$</span>shrinkage,</span>
<span id="cb77-26"><a href="#cb77-26" aria-hidden="true" tabindex="-1"></a>                 <span class="at">n.minobsinnode =</span> params<span class="sc">$</span>n.minobsinnode,</span>
<span id="cb77-27"><a href="#cb77-27" aria-hidden="true" tabindex="-1"></a>                 <span class="at">cv.folds =</span> <span class="dv">5</span>,</span>
<span id="cb77-28"><a href="#cb77-28" aria-hidden="true" tabindex="-1"></a>                 <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb77-29"><a href="#cb77-29" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb77-30"><a href="#cb77-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Erreur de validation croisée minimale</span></span>
<span id="cb77-31"><a href="#cb77-31" aria-hidden="true" tabindex="-1"></a>  cv_error <span class="ot">&lt;-</span> <span class="fu">min</span>(gbm_temp<span class="sc">$</span>cv.error, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb77-32"><a href="#cb77-32" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb77-33"><a href="#cb77-33" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(cv_error <span class="sc">&lt;</span> best_cv_error) {</span>
<span id="cb77-34"><a href="#cb77-34" aria-hidden="true" tabindex="-1"></a>    best_cv_error <span class="ot">&lt;-</span> cv_error</span>
<span id="cb77-35"><a href="#cb77-35" aria-hidden="true" tabindex="-1"></a>    best_gbm_params <span class="ot">&lt;-</span> params</span>
<span id="cb77-36"><a href="#cb77-36" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb77-37"><a href="#cb77-37" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb77-38"><a href="#cb77-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-39"><a href="#cb77-39" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Meilleurs hyperparamètres GBM :"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Meilleurs hyperparamètres GBM :</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">- Arbres :"</span>, best_gbm_params<span class="sc">$</span>n.trees)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
- Arbres : 400</code></pre>
</div>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">- Profondeur :"</span>, best_gbm_params<span class="sc">$</span>interaction.depth)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
- Profondeur : 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"</span><span class="sc">\n</span><span class="st">- Taux d'apprentissage :"</span>, best_gbm_params<span class="sc">$</span>shrinkage)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
- Taux d'apprentissage : 0.1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Modèle final optimisé</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>gbm_final <span class="ot">&lt;-</span> <span class="fu">gbm</span>(Y_gbm <span class="sc">~</span> . <span class="sc">-</span> Y <span class="sc">-</span> Y_num, <span class="at">data =</span> df_gbm,</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">distribution =</span> <span class="st">"bernoulli"</span>,</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">n.trees =</span> best_gbm_params<span class="sc">$</span>n.trees,</span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">interaction.depth =</span> best_gbm_params<span class="sc">$</span>interaction.depth,</span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">shrinkage =</span> best_gbm_params<span class="sc">$</span>shrinkage,</span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">n.minobsinnode =</span> best_gbm_params<span class="sc">$</span>n.minobsinnode,</span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a>                <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="évaluation-finale" class="level4">
<h4 class="anchored" data-anchor-id="évaluation-finale">Évaluation finale</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># === VALIDATION CROISÉE 10-FOLD POUR GBM ===</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>gbm_metrics <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> k_folds, <span class="at">ncol =</span> <span class="dv">5</span>)</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(gbm_metrics) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"accuracy"</span>, <span class="st">"sensitivity"</span>, <span class="st">"specificity"</span>, <span class="st">"precision"</span>, <span class="st">"f1_score"</span>)</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>k_folds) {</span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>  test_idx <span class="ot">&lt;-</span> folds[[i]]</span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>  train_data <span class="ot">&lt;-</span> df_gbm[<span class="sc">-</span>test_idx, ]</span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>  test_data <span class="ot">&lt;-</span> df_gbm[test_idx, ]</span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb86-10"><a href="#cb86-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Entraînement avec hyperparamètres optimaux</span></span>
<span id="cb86-11"><a href="#cb86-11" aria-hidden="true" tabindex="-1"></a>  gbm_temp <span class="ot">&lt;-</span> <span class="fu">gbm</span>(Y_gbm <span class="sc">~</span> . <span class="sc">-</span> Y <span class="sc">-</span> Y_num, <span class="at">data =</span> train_data,</span>
<span id="cb86-12"><a href="#cb86-12" aria-hidden="true" tabindex="-1"></a>                 <span class="at">distribution =</span> <span class="st">"bernoulli"</span>,</span>
<span id="cb86-13"><a href="#cb86-13" aria-hidden="true" tabindex="-1"></a>                 <span class="at">n.trees =</span> best_gbm_params<span class="sc">$</span>n.trees,</span>
<span id="cb86-14"><a href="#cb86-14" aria-hidden="true" tabindex="-1"></a>                 <span class="at">interaction.depth =</span> best_gbm_params<span class="sc">$</span>interaction.depth,</span>
<span id="cb86-15"><a href="#cb86-15" aria-hidden="true" tabindex="-1"></a>                 <span class="at">shrinkage =</span> best_gbm_params<span class="sc">$</span>shrinkage,</span>
<span id="cb86-16"><a href="#cb86-16" aria-hidden="true" tabindex="-1"></a>                 <span class="at">n.minobsinnode =</span> best_gbm_params<span class="sc">$</span>n.minobsinnode,</span>
<span id="cb86-17"><a href="#cb86-17" aria-hidden="true" tabindex="-1"></a>                 <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb86-18"><a href="#cb86-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb86-19"><a href="#cb86-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Prédictions</span></span>
<span id="cb86-20"><a href="#cb86-20" aria-hidden="true" tabindex="-1"></a>  pred_prob <span class="ot">&lt;-</span> <span class="fu">predict</span>(gbm_temp, test_data, <span class="at">n.trees =</span> best_gbm_params<span class="sc">$</span>n.trees, <span class="at">type =</span> <span class="st">"response"</span>)</span>
<span id="cb86-21"><a href="#cb86-21" aria-hidden="true" tabindex="-1"></a>  pred_class <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(pred_prob <span class="sc">&gt;</span> <span class="fl">0.5</span>, <span class="st">"AML"</span>, <span class="st">"ALL"</span>)</span>
<span id="cb86-22"><a href="#cb86-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb86-23"><a href="#cb86-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calcul des métriques</span></span>
<span id="cb86-24"><a href="#cb86-24" aria-hidden="true" tabindex="-1"></a>  metrics <span class="ot">&lt;-</span> <span class="fu">calculate_metrics_robust</span>(pred_class, test_data<span class="sc">$</span>Y)</span>
<span id="cb86-25"><a href="#cb86-25" aria-hidden="true" tabindex="-1"></a>  gbm_metrics[i,] <span class="ot">&lt;-</span> metrics</span>
<span id="cb86-26"><a href="#cb86-26" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb86-27"><a href="#cb86-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-28"><a href="#cb86-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Synthèse des résultats</span></span>
<span id="cb86-29"><a href="#cb86-29" aria-hidden="true" tabindex="-1"></a>gbm_results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb86-30"><a href="#cb86-30" aria-hidden="true" tabindex="-1"></a>  Métrique <span class="ot">=</span> <span class="fu">colnames</span>(gbm_metrics),</span>
<span id="cb86-31"><a href="#cb86-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">Moyenne =</span> <span class="fu">round</span>(<span class="fu">apply</span>(gbm_metrics, <span class="dv">2</span>, mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">4</span>),</span>
<span id="cb86-32"><a href="#cb86-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">Ecart_type =</span> <span class="fu">round</span>(<span class="fu">apply</span>(gbm_metrics, <span class="dv">2</span>, sd, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="dv">4</span>)</span>
<span id="cb86-33"><a href="#cb86-33" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb86-34"><a href="#cb86-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-35"><a href="#cb86-35" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"=== RÉSULTATS GRADIENT BOOSTING ===</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>=== RÉSULTATS GRADIENT BOOSTING ===</code></pre>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(gbm_results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               Métrique Moyenne Ecart_type
accuracy       accuracy  0.5786     0.2055
sensitivity sensitivity  0.7800     0.2486
specificity specificity  0.3000     0.2460
precision     precision  0.6005     0.1611
f1_score       f1_score  0.6730     0.1868</code></pre>
</div>
</div>
</section>
</section>
<section id="comparaison-des-performances" class="level3">
<h3 class="anchored" data-anchor-id="comparaison-des-performances">6.4 Comparaison des performances</h3>
<section id="tableau-récapitulatif" class="level4">
<h4 class="anchored" data-anchor-id="tableau-récapitulatif">Tableau récapitulatif</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compilation des résultats dans un tableau unifié</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>all_results <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(Méthode <span class="ot">=</span> <span class="st">"Régression Logistique"</span>, logit_results),</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(Méthode <span class="ot">=</span> <span class="st">"Forêt Aléatoire"</span>, rf_results),</span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(Méthode <span class="ot">=</span> <span class="st">"Gradient Boosting"</span>, gbm_results)</span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Formatage pour une meilleure lisibilité</span></span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(all_results, <span class="at">digits =</span> <span class="dv">4</span>, </span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">caption =</span> <span class="st">"Comparaison des performances des trois méthodes de classification"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Comparaison des performances des trois méthodes de classification</caption>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: left;">Méthode</th>
<th style="text-align: left;">Métrique</th>
<th style="text-align: right;">Moyenne</th>
<th style="text-align: right;">Ecart_type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">accuracy</td>
<td style="text-align: left;">Régression Logistique</td>
<td style="text-align: left;">accuracy</td>
<td style="text-align: right;">0.5821</td>
<td style="text-align: right;">0.0226</td>
</tr>
<tr class="even">
<td style="text-align: left;">sensitivity</td>
<td style="text-align: left;">Régression Logistique</td>
<td style="text-align: left;">sensitivity</td>
<td style="text-align: right;">1.0000</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">specificity</td>
<td style="text-align: left;">Régression Logistique</td>
<td style="text-align: left;">specificity</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="even">
<td style="text-align: left;">precision</td>
<td style="text-align: left;">Régression Logistique</td>
<td style="text-align: left;">precision</td>
<td style="text-align: right;">0.5821</td>
<td style="text-align: right;">0.0226</td>
</tr>
<tr class="odd">
<td style="text-align: left;">f1_score</td>
<td style="text-align: left;">Régression Logistique</td>
<td style="text-align: left;">f1_score</td>
<td style="text-align: right;">0.7357</td>
<td style="text-align: right;">0.0177</td>
</tr>
<tr class="even">
<td style="text-align: left;">accuracy1</td>
<td style="text-align: left;">Forêt Aléatoire</td>
<td style="text-align: left;">accuracy</td>
<td style="text-align: right;">0.5679</td>
<td style="text-align: right;">0.0538</td>
</tr>
<tr class="odd">
<td style="text-align: left;">sensitivity1</td>
<td style="text-align: left;">Forêt Aléatoire</td>
<td style="text-align: left;">sensitivity</td>
<td style="text-align: right;">0.9750</td>
<td style="text-align: right;">0.0791</td>
</tr>
<tr class="even">
<td style="text-align: left;">specificity1</td>
<td style="text-align: left;">Forêt Aléatoire</td>
<td style="text-align: left;">specificity</td>
<td style="text-align: right;">0.0000</td>
<td style="text-align: right;">0.0000</td>
</tr>
<tr class="odd">
<td style="text-align: left;">precision1</td>
<td style="text-align: left;">Forêt Aléatoire</td>
<td style="text-align: left;">precision</td>
<td style="text-align: right;">0.5750</td>
<td style="text-align: right;">0.0345</td>
</tr>
<tr class="even">
<td style="text-align: left;">f1_score1</td>
<td style="text-align: left;">Forêt Aléatoire</td>
<td style="text-align: left;">f1_score</td>
<td style="text-align: right;">0.7229</td>
<td style="text-align: right;">0.0466</td>
</tr>
<tr class="odd">
<td style="text-align: left;">accuracy2</td>
<td style="text-align: left;">Gradient Boosting</td>
<td style="text-align: left;">accuracy</td>
<td style="text-align: right;">0.5786</td>
<td style="text-align: right;">0.2055</td>
</tr>
<tr class="even">
<td style="text-align: left;">sensitivity2</td>
<td style="text-align: left;">Gradient Boosting</td>
<td style="text-align: left;">sensitivity</td>
<td style="text-align: right;">0.7800</td>
<td style="text-align: right;">0.2486</td>
</tr>
<tr class="odd">
<td style="text-align: left;">specificity2</td>
<td style="text-align: left;">Gradient Boosting</td>
<td style="text-align: left;">specificity</td>
<td style="text-align: right;">0.3000</td>
<td style="text-align: right;">0.2460</td>
</tr>
<tr class="even">
<td style="text-align: left;">precision2</td>
<td style="text-align: left;">Gradient Boosting</td>
<td style="text-align: left;">precision</td>
<td style="text-align: right;">0.6005</td>
<td style="text-align: right;">0.1611</td>
</tr>
<tr class="odd">
<td style="text-align: left;">f1_score2</td>
<td style="text-align: left;">Gradient Boosting</td>
<td style="text-align: left;">f1_score</td>
<td style="text-align: right;">0.6730</td>
<td style="text-align: right;">0.1868</td>
</tr>
</tbody>
</table>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tableau résumé des moyennes</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>summary_table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  Méthode <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Régression Logistique"</span>, <span class="st">"Forêt Aléatoire"</span>, <span class="st">"Gradient Boosting"</span>),</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Accuracy =</span> <span class="fu">paste0</span>(<span class="fu">round</span>(<span class="fu">c</span>(logit_results<span class="sc">$</span>Moyenne[<span class="dv">1</span>], rf_results<span class="sc">$</span>Moyenne[<span class="dv">1</span>], gbm_results<span class="sc">$</span>Moyenne[<span class="dv">1</span>]) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">1</span>), <span class="st">"%"</span>),</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>  Stabilité <span class="ot">=</span> <span class="fu">round</span>(<span class="fu">c</span>(<span class="fu">sd</span>(logit_metrics[,<span class="dv">1</span>]), <span class="fu">sd</span>(rf_metrics[,<span class="dv">1</span>]), <span class="fu">sd</span>(gbm_metrics[,<span class="dv">1</span>])), <span class="dv">3</span>)</span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(summary_table, <span class="at">caption =</span> <span class="st">"Résumé des performances moyennes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Résumé des performances moyennes</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Méthode</th>
<th style="text-align: left;">Accuracy</th>
<th style="text-align: right;">Stabilité</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Régression Logistique</td>
<td style="text-align: left;">58.2%</td>
<td style="text-align: right;">0.023</td>
</tr>
<tr class="even">
<td style="text-align: left;">Forêt Aléatoire</td>
<td style="text-align: left;">56.8%</td>
<td style="text-align: right;">0.054</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Gradient Boosting</td>
<td style="text-align: left;">57.9%</td>
<td style="text-align: right;">0.206</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="visualisation-comparative" class="level4">
<h4 class="anchored" data-anchor-id="visualisation-comparative">Visualisation comparative</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Préparation des données pour la visualisation</span></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>all_metrics_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Accuracy =</span> <span class="fu">c</span>(logit_metrics[,<span class="dv">1</span>], rf_metrics[,<span class="dv">1</span>], gbm_metrics[,<span class="dv">1</span>]),</span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>  Méthode <span class="ot">=</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"Régression Logistique"</span>, <span class="st">"Forêt Aléatoire"</span>, <span class="st">"Gradient Boosting"</span>), <span class="at">each =</span> k_folds)</span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Boxplot des accuracies</span></span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(all_metrics_df, <span class="fu">aes</span>(<span class="at">x =</span> Méthode, <span class="at">y =</span> Accuracy, <span class="at">fill =</span> Méthode)) <span class="sc">+</span></span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.2</span>, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb92-13"><a href="#cb92-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb92-14"><a href="#cb92-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribution des performances en validation croisée"</span>,</span>
<span id="cb92-15"><a href="#cb92-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Accuracy"</span>, <span class="at">x =</span> <span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb92-16"><a href="#cb92-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,</span>
<span id="cb92-17"><a href="#cb92-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb92-18"><a href="#cb92-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"Set2"</span>)</span>
<span id="cb92-19"><a href="#cb92-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-20"><a href="#cb92-20" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(p1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="RapportFinal_Amed_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="analyse-et-interprétation-des-résultats" class="level3">
<h3 class="anchored" data-anchor-id="analyse-et-interprétation-des-résultats">6.5 Analyse et interprétation des résultats</h3>
<section id="performance-comparative-observée" class="level4">
<h4 class="anchored" data-anchor-id="performance-comparative-observée">Performance comparative observée</h4>
<p>Les résultats de validation croisée révèlent une hiérarchie claire des performances :</p>
<ol type="1">
<li><strong>Gradient Boosting</strong> : Meilleure performance globale
<ul>
<li>Capacité d’apprentissage séquentiel particulièrement adaptée aux patterns complexes</li>
<li>Optimisation itérative des erreurs efficace en grande dimension</li>
</ul></li>
<li><strong>Forêt Aléatoire</strong> : Bon compromis performance/stabilité
<ul>
<li>Mécanismes intégrés de gestion de la grande dimension (sélection aléatoire de variables)</li>
<li>Robustesse élevée grâce à l’agrégation de modèles</li>
</ul></li>
<li><strong>Régression Logistique Ridge</strong> : Performance limitée mais interprétable
<ul>
<li>Contraintes de la linéarité en contexte de grande dimension</li>
<li>Régularisation Ridge insuffisante face au ratio p &gt;&gt; n</li>
</ul></li>
</ol>
</section>
<section id="adaptation-spécifique-à-la-grande-dimension" class="level4">
<h4 class="anchored" data-anchor-id="adaptation-spécifique-à-la-grande-dimension">Adaptation spécifique à la grande dimension</h4>
<p>Notre contexte p &gt;&gt; n (1000 variables, 72 observations) met en évidence :</p>
<ul>
<li><strong>Supériorité des méthodes d’ensemble</strong> : RF et GBM surpassent nettement la régression logistique</li>
<li><strong>Importance de la régularisation implicite</strong> : Les mécanismes intégrés des méthodes d’ensemble compensent efficacement la malédiction de la dimension</li>
<li><strong>Limites des approches linéaires</strong> : Même avec régularisation Ridge, la régression logistique reste limitée face à la complexité des interactions possibles</li>
</ul>
</section>
<section id="synthèse-comparative" class="level4">
<h4 class="anchored" data-anchor-id="synthèse-comparative">Synthèse comparative</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tableau de comparaison qualitative adapté aux résultats</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>comparison_final <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>  Critère <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Performance"</span>, <span class="st">"Interprétabilité"</span>, <span class="st">"Stabilité"</span>, <span class="st">"Complexité"</span>, <span class="st">"Temps de calcul"</span>),</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Régression Logistique</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Modérée"</span>, <span class="st">"Très élevée"</span>, <span class="st">"Modérée"</span>, <span class="st">"Faible"</span>, <span class="st">"Rapide"</span>),</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Forêt Aléatoire</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Bonne"</span>, <span class="st">"Modérée"</span>, <span class="st">"Élevée"</span>, <span class="st">"Modérée"</span>, <span class="st">"Modéré"</span>),</span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">`</span><span class="at">Gradient Boosting</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"Très bonne"</span>, <span class="st">"Faible"</span>, <span class="st">"Modérée"</span>, <span class="st">"Élevée"</span>, <span class="st">"Lent"</span>),</span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">check.names =</span> <span class="cn">FALSE</span></span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a><span class="fu">kable</span>(comparison_final, <span class="at">caption =</span> <span class="st">"Synthèse comparative adaptée aux résultats obtenus"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Synthèse comparative adaptée aux résultats obtenus</caption>
<colgroup>
<col style="width: 23%">
<col style="width: 30%">
<col style="width: 21%">
<col style="width: 24%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Critère</th>
<th style="text-align: left;">Régression Logistique</th>
<th style="text-align: left;">Forêt Aléatoire</th>
<th style="text-align: left;">Gradient Boosting</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Performance</td>
<td style="text-align: left;">Modérée</td>
<td style="text-align: left;">Bonne</td>
<td style="text-align: left;">Très bonne</td>
</tr>
<tr class="even">
<td style="text-align: left;">Interprétabilité</td>
<td style="text-align: left;">Très élevée</td>
<td style="text-align: left;">Modérée</td>
<td style="text-align: left;">Faible</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Stabilité</td>
<td style="text-align: left;">Modérée</td>
<td style="text-align: left;">Élevée</td>
<td style="text-align: left;">Modérée</td>
</tr>
<tr class="even">
<td style="text-align: left;">Complexité</td>
<td style="text-align: left;">Faible</td>
<td style="text-align: left;">Modérée</td>
<td style="text-align: left;">Élevée</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Temps de calcul</td>
<td style="text-align: left;">Rapide</td>
<td style="text-align: left;">Modéré</td>
<td style="text-align: left;">Lent</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="recommandations-pratiques" class="level4">
<h4 class="anchored" data-anchor-id="recommandations-pratiques">Recommandations pratiques</h4>
<p>Selon les résultats obtenus dans notre contexte spécifique :</p>
<ol type="1">
<li><strong>Pour la performance pure</strong> : <strong>Gradient Boosting</strong>
<ul>
<li>Meilleure accuracy moyenne</li>
<li>Capacité d’apprentissage séquentiel efficace en grande dimension</li>
</ul></li>
<li><strong>Pour l’équilibre performance/robustesse</strong> : <strong>Forêt Aléatoire</strong>
<ul>
<li>Bon compromis entre performance et stabilité</li>
<li>Gestion naturelle de la grande dimension</li>
<li>Moins sensible aux hyperparamètres</li>
</ul></li>
<li><strong>Pour l’interprétabilité</strong> : <strong>Régression Logistique Ridge</strong>
<ul>
<li>Coefficients directement interprétables</li>
<li>Performance limitée mais modèle transparent</li>
</ul></li>
</ol>
</section>
</section>
<section id="conclusion-de-létude-comparative" class="level3">
<h3 class="anchored" data-anchor-id="conclusion-de-létude-comparative">6.6 Conclusion de l’étude comparative</h3>
<p>Cette analyse comparative démontre plusieurs principes fondamentaux de l’apprentissage automatique en grande dimension :</p>
<p><strong>1. Supériorité des méthodes d’ensemble</strong> : Les forêts aléatoires et le gradient boosting surpassent significativement la régression logistique dans notre contexte p &gt;&gt; n, démontrant l’efficacité des mécanismes de régularisation implicite.</p>
<p><strong>2. Importance du choix méthodologique</strong> : Le choix de la méthode doit être guidé par les priorités : performance pure (GBM), équilibre performance/robustesse (RF), ou interprétabilité (régression logistique).</p>
<p><strong>3. Validation empirique en contexte réel</strong> : Les résultats obtenus sur des données en grande dimension confirment les prédictions théoriques concernant les limitations des approches linéaires et l’efficacité des méthodes d’ensemble.</p>
<p><strong>4. Adaptation au contexte p &gt;&gt; n</strong> : Dans un contexte où p &gt;&gt; n, les méthodes d’ensemble offrent une solution naturelle aux défis de la grande dimension, sans nécessiter de préprocessing complexe de réduction de dimension.</p>
<p>Cette étude confirme qu’il n’existe pas de méthode universellement optimale : le choix dépend du contexte et des priorités du praticien. Une approche rigoureuse de validation croisée et une compréhension des limites de chaque méthode sont essentielles pour une pratique éclairée de l’apprentissage automatique en statistique en grande dimension.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>